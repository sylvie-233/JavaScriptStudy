# 微信小程序

>
>`黑马程序员前端微信小程序开发教程：P43`
>


## 基础介绍

一个微信小程序账号只能发布一个微信小程序

`AppID`、`AppSecret`

wxss以rpx为尺寸单位，自适应单位，任何型号屏幕宽都为750rpx


windows: navigationBar -> background -> content -> tabbar





### 项目结构

```yaml
:
    /assets:
    /components:
    /pages:
        /index:
            index.js:
            index.json:
            index.wxml:
            index.wxss:
    /utils:
    .eslintrc.js:
    app.js:
    app.json:
    app.wxss: # 全局样式
    project.config.json:
    project.private.config.json: # 私有配置（覆盖）
    sitemap.json:
```

#### app.json

应用配置文件

```yaml
:
    entryPagePath: # 入口页面
    pages: # 页面路由
    renderer: # "skyline"
    rendererOptions:
        skeyline:
            defaultDisplayBlock:
    sitemapLocation:
    style: # "v2"
    tabBar: # 底部菜单栏
        backgroundColor:
        borderStyle:
        color:
        list:
            iconPath:
            pagePath:
            selectedIconPath:
            text:
        position: # "top|bottom|"
        selectedColor:
    window: # 窗口外观
        enablePullDownRefresh: # 窗口下拉刷新
        navigationBarBackgroundColor:
        navigationBarTextStyle: # "black|"
        navigationBarTitleText: # 导航栏标题
        navigationStyle: # "custom|"
        onReachBottomDistance: # 触底刷新
```


#### page.json
```yaml
:
    navigationBarTitleText:
    usingComponents: # 组件注册
```

#### project.config.json

项目编译配置文件

```yaml
:
    appid:
    compileType:
    condition:
    description:
    libVersion: # 微信小程序运行库版本
    packOptions:
        ignore:
        include:
    projectname:
    settings:
        babelSetting:
            ignore:
            outputPath:
        compileHotReLoad:
        coverView:
        enhance:
        es6:
        minified:
        postcss:
        urlCheck: 合法域名检查
        useCompilerPlugins: "sass|typescript"
```

#### sitemap.json
```yaml
:
    desc:
    rules:
        action: # "allow|disallow"
        page: # "*|"
```


应用索引信息配置





## 核心内容
```yaml
app/page:
    _event:
        
    console:
        log():
    data: # 数据对象
    Event: # 事件对象
        currentTarget: # 事件绑定者
            dataset: # 自定义data属性
            id:
            offsetLeft:
            offsetRight:
        detail:
            value: # 组件值
            x:
            y:
        mark: # 属性传递
        target: # 事件触发者
            dataset: # 自定义属性
            id:
        touches:
        type:
    getApp():
    setData(): # 修改数据
    
wx: # wx全局对象window
    navigateBack():
    navigateTo(): # 切换非tabbar页面 
        url:
    onWindowResize():
    request(): # 发送请求
        data:
        method:
        url:
        success():
    setStorageSync():
    stopPullDownRefresh(): # 停止下拉刷新
    switchTab(): # 切换tabbar页面
```


### 内置组件

```yaml
内置组件:
    <block>: # template空白组件
    <button>:
        bind:
            tap: # 点击事件
        plain:
        size:
            mini:
        type: # 类型
            primary:
    <image>:
        lazy-load:
        mode: # 模式
            aspectFill:
            aspectFit:
        show-menu-by-longpress:
        src:
    <input>:
        bind:
            input:
    <navigator>:
        delta: # 延时
        open-type: # 打开模式
            navigate: # 非tabbar页面（默认）
            navigateBack:
            switchTab: # tabbar页面
        url:
    <rich-text>: # 富文本内容（渲染页面内容）
    <scroll-view>: # 滚动视图
        scroll-x:
        scroll-y:
    <swiper>:
        autoplay:
        circular:
        indicator-active-color:
        indicator-color:
        indicator-dots:
        interval:
    <swiper-item>:
    <text>:
        hidden:
        space: # "ensp|nbsp"
        user-select:
    <view>:
        class:
```

`data-*`：自定义属性传参



### 模板语法

```yaml
:
    {{ ... }}: # 类Vue模板语法
    bind: # 事件绑定
    catch: # 事件绑定（不冒泡）
    data-*: # 自定义属性传递
    mark: # 自定义属性传递
    wx:
        for ...: # 列表渲染
            for-index:
            for-item:
            key:
            index:
            item:
        if ... elif ... else: # 条件渲染
```


### 组件样式





```yaml
wxss:
    @import: # 导入其它wxss
```


### 组件路由

基于约定式文件路由





### App
```yaml
App:
```


### Page
```yaml
Page:
    data: # 数据
    onLoad():
        options: # 路由传参
    onPullDownRefresh(): # 页面下拉刷新
    onReachBottom(): # 触底刷新
    setData():

```